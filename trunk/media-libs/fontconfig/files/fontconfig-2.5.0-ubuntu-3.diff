--- fontconfig-2.5.0.orig/fontconfig/fontconfig.h
+++ fontconfig-2.5.0/fontconfig/fontconfig.h
@@ -111,6 +111,7 @@
 #define FC_EMBOLDEN	    "embolden"		/* Bool - true if emboldening needed*/
 #define FC_EMBEDDED_BITMAP  "embeddedbitmap"	/* Bool - true to enable embedded bitmaps */
 #define FC_DECORATIVE	    "decorative"	/* Bool - true if style is a decorative variant */
+#define FC_ANY_METRICS      "anymetrics"	/* Bool - true to allow metrics which do not match the requested font */
 
 #define FC_CACHE_SUFFIX		    ".cache-"FC_CACHE_VERSION
 #define FC_DIR_CACHE_FILE	    "fonts.cache-"FC_CACHE_VERSION

--- fontconfig-2.5.0.orig/conf.d/60-latin.conf
+++ fontconfig-2.5.0/conf.d/60-latin.conf
@@ -4,8 +4,8 @@
 	<alias>
 		<family>serif</family>
 		<prefer>
-			<family>Bitstream Vera Serif</family>
 			<family>DejaVu Serif</family>
+			<family>Bitstream Vera Serif</family>
 			<family>Times New Roman</family>
 			<family>Thorndale AMT</family>
 			<family>Luxi Serif</family>
@@ -16,8 +16,8 @@
 	<alias>
 		<family>sans-serif</family>
 		<prefer>
-			<family>Bitstream Vera Sans</family>
 			<family>DejaVu Sans</family>
+			<family>Bitstream Vera Sans</family>
 			<family>Verdana</family>
 			<family>Arial</family>
 			<family>Albany AMT</family>
@@ -29,8 +29,8 @@
 	<alias>
 		<family>monospace</family>
 		<prefer>
-			<family>Bitstream Vera Sans Mono</family>
 			<family>DejaVu Sans Mono</family>
+			<family>Bitstream Vera Sans Mono</family>
 			<family>Andale Mono</family>
 			<family>Courier New</family>
 			<family>Cumberland AMT</family>
--- fontconfig-2.5.0.orig/conf.d/30-metric-aliases.conf
+++ fontconfig-2.5.0/conf.d/30-metric-aliases.conf
@@ -46,6 +46,12 @@
 
 		3) Alias each generic to its specifics.
 		   eg. Arial to Liberation Sans, Albany, and Albany AMT
+
+                   However, the AMT fonts are quite ugly and do not
+                   render well on-screen, so we avoid matching them if
+                   the application said `anymetrics'; in that case, a
+                   more generic font with different metrics but better
+                   appearance will be used.
 	-->
 
 <!-- Map specifics to generics -->
@@ -185,7 +191,7 @@
 	  <accept>
           <family>Liberation Sans</family>
 	  <family>Albany</family>
-	  <family>Albany AMT</family>
+	  <!-- <family>Albany AMT</family> -->
 	  </accept>
 	</alias>
 
@@ -194,7 +200,7 @@
 	  <accept>
           <family>Liberation Serif</family>
 	  <family>Thorndale</family>
-	  <family>Thorndale AMT</family>
+	  <!-- <family>Thorndale AMT</family> -->
 	  </accept>
 	</alias>
 
@@ -203,9 +209,42 @@
 	  <accept>
           <family>Liberation Mono</family>
 	  <family>Cumberland</family>
-	  <family>Cumberland AMT</family>
+	  <!-- <family>Cumberland AMT</family> -->
 	  </accept>
 	</alias>
 
+       	<match target="pattern">
+          <test name="family">
+            <string>Times New Roman</string>
+          </test>
+          <test name="anymetrics" qual="all" compare="not_eq">
+            <bool>true</bool>
+          </test>
+          <edit name="family" mode="append">
+            <string>Thorndale AMT</string>
+          </edit>
+     	</match>
+       	<match target="pattern">
+          <test name="family">
+            <string>Arial</string>
+          </test>
+          <test name="anymetrics" qual="all" compare="not_eq">
+            <bool>true</bool>
+          </test>
+          <edit name="family" mode="append">
+            <string>Albany AMT</string>
+          </edit>
+     	</match>
+       	<match target="pattern">
+          <test name="family">
+            <string>Courier New</string>
+          </test>
+          <test name="anymetrics" qual="all" compare="not_eq">
+            <bool>true</bool>
+          </test>
+          <edit name="family" mode="append">
+            <string>Cumberland AMT</string>
+          </edit>
+     	</match>
 
 </fontconfig>
--- fontconfig-2.5.0.orig/conf.d/30-urw-aliases.conf
+++ fontconfig-2.5.0/conf.d/30-urw-aliases.conf
@@ -5,6 +5,13 @@
   URW provides metric and shape compatible fonts for some Adobe families.
   Helvetica, Courier, and Times are handled in 30-metric-aliases.conf.
   -->
+
+<!--
+  However, these fonts are quite ugly and do not render well on-screen,
+  so we avoid matching them if the application said `anymetrics'; in that
+  case, a more generic font with different metrics but better appearance
+  will be used.
+
         <alias binding="same">
           <family>Avant Garde</family>
           <accept><family>URW Gothic L</family></accept>
@@ -29,6 +36,109 @@
 	  <family>Zapf Dingbats</family>
 	  <accept><family>Dingbats</family></accept>
 	</alias>
+  -->
+
+       	<match target="pattern">
+          <test name="family">
+            <string>Avant Garde</string>
+          </test>
+          <test name="anymetrics" qual="all" compare="not_eq">
+            <bool>true</bool>
+          </test>
+          <edit name="family" mode="append">
+            <string>URW Gothic L</string>
+          </edit>
+     	</match>
+       	<match target="pattern">
+          <test name="family">
+            <string>Bookman</string>
+          </test>
+          <test name="anymetrics" qual="all" compare="not_eq">
+            <bool>true</bool>
+          </test>
+          <edit name="family" mode="append">
+            <string>URW Bookman L</string>
+          </edit>
+     	</match>
+       	<match target="pattern">
+          <test name="family">
+            <string>Courier</string>
+          </test>
+          <test name="anymetrics" qual="all" compare="not_eq">
+            <bool>true</bool>
+          </test>
+          <edit name="family" mode="append">
+            <string>Nimbus Mono L</string>
+          </edit>
+     	</match>
+       	<match target="pattern">
+          <test name="family">
+            <string>Helvetica</string>
+          </test>
+          <test name="anymetrics" qual="all" compare="not_eq">
+            <bool>true</bool>
+          </test>
+          <edit name="family" mode="append">
+            <string>Nimbus Sans L</string>
+          </edit>
+     	</match>
+       	<match target="pattern">
+          <test name="family">
+            <string>New Century Schoolbook</string>
+          </test>
+          <test name="anymetrics" qual="all" compare="not_eq">
+            <bool>true</bool>
+          </test>
+          <edit name="family" mode="append">
+            <string>Century Schoolbook L</string>
+          </edit>
+     	</match>
+       	<match target="pattern">
+          <test name="family">
+            <string>Palatino</string>
+          </test>
+          <test name="anymetrics" qual="all" compare="not_eq">
+            <bool>true</bool>
+          </test>
+          <edit name="family" mode="append">
+            <string>URW Palladio L</string>
+          </edit>
+     	</match>
+       	<match target="pattern">
+          <test name="family">
+            <string>Times</string>
+          </test>
+          <test name="anymetrics" qual="all" compare="not_eq">
+            <bool>true</bool>
+          </test>
+          <edit name="family" mode="append">
+            <string>Nimbus Roman No9 L</string>
+          </edit>
+     	</match>
+       	<match target="pattern">
+          <test name="family">
+            <string>Zapf Chancery</string>
+          </test>
+          <test name="anymetrics" qual="all" compare="not_eq">
+            <bool>true</bool>
+          </test>
+          <edit name="family" mode="append">
+            <string>URW Chancery L</string>
+          </edit>
+     	</match>
+       	<match target="pattern">
+          <test name="family">
+            <string>Zapf Dingbats</string>
+          </test>
+          <test name="anymetrics" qual="all" compare="not_eq">
+            <bool>true</bool>
+          </test>
+          <edit name="family" mode="append">
+            <string>Dingbats</string>
+          </edit>
+     	</match>
+
+
 	<match target="pattern">
 	  <test name="family">
 	    <string>Symbol</string>
--- fontconfig-2.5.0.orig/conf.d/Makefile.am
+++ fontconfig-2.5.0/conf.d/Makefile.am
@@ -23,7 +23,12 @@
 
 CONF_FILES = \
 	README \
+	10-antialias.conf \
 	10-autohint.conf \
+	10-hinting.conf \
+	10-hinting-full.conf \
+	10-hinting-medium.conf \
+	10-hinting-slight.conf \
 	10-no-sub-pixel.conf \
 	10-sub-pixel-bgr.conf \
 	10-sub-pixel-rgb.conf \
@@ -40,6 +45,7 @@
 	49-sansserif.conf \
 	50-user.conf \
 	51-local.conf \
+	53-monospace-lcd-filter.conf \
 	60-latin.conf \
 	65-fonts-persian.conf \
 	65-nonlatin.conf \
@@ -50,6 +57,10 @@
 	90-synthetic.conf
 
 CONF_LINKS = \
+	10-antialias.conf \
+	10-hinting.conf \
+	10-hinting-medium.conf \
+	10-no-sub-pixel.conf \
 	20-fix-globaladvance.conf \
 	20-unhint-small-vera.conf \
 	30-urw-aliases.conf \
@@ -59,6 +70,7 @@
 	49-sansserif.conf \
 	50-user.conf \
 	51-local.conf \
+	53-monospace-lcd-filter.conf \
 	60-latin.conf \
 	65-fonts-persian.conf \
 	65-nonlatin.conf \
--- fontconfig-2.5.0.orig/conf.d/40-nonlatin.conf
+++ fontconfig-2.5.0/conf.d/40-nonlatin.conf
@@ -33,6 +33,7 @@
 		<family>Baekmuk Dotum</family>
 		<family>SimSun</family>
 		<family>MgOpen Modata</family>
+		<family>MgOpen Moderna</family>
 		<family>Sazanami Gothic</family>
 		<family>AR PL ShanHeiSun Uni</family>
 		<family>ZYSong18030</family>
--- fontconfig-2.5.0.orig/conf.d/Makefile.in
+++ fontconfig-2.5.0/conf.d/Makefile.in
@@ -233,7 +233,12 @@
 target_alias = @target_alias@
 CONF_FILES = \
 	README \
+	10-antialias.conf \
 	10-autohint.conf \
+	10-hinting.conf \
+	10-hinting-full.conf \
+	10-hinting-medium.conf \
+	10-hinting-slight.conf \
 	10-no-sub-pixel.conf \
 	10-sub-pixel-bgr.conf \
 	10-sub-pixel-rgb.conf \
@@ -250,6 +255,7 @@
 	49-sansserif.conf \
 	50-user.conf \
 	51-local.conf \
+	53-monospace-lcd-filter.conf \
 	60-latin.conf \
 	65-fonts-persian.conf \
 	65-nonlatin.conf \
@@ -260,6 +267,10 @@
 	90-synthetic.conf
 
 CONF_LINKS = \
+	10-antialias.conf \
+	10-hinting.conf \
+	10-hinting-medium.conf \
+	10-no-sub-pixel.conf \
 	20-fix-globaladvance.conf \
 	20-unhint-small-vera.conf \
 	30-urw-aliases.conf \
@@ -269,6 +280,7 @@
 	49-sansserif.conf \
 	50-user.conf \
 	51-local.conf \
+	53-monospace-lcd-filter.conf \
 	60-latin.conf \
 	65-fonts-persian.conf \
 	65-nonlatin.conf \
--- fontconfig-2.5.0.orig/src/fcname.c
+++ fontconfig-2.5.0/src/fcname.c
@@ -74,7 +74,8 @@
     { FC_FONTFORMAT,	FcTypeString },
     { FC_EMBOLDEN,	FcTypeBool },
     { FC_EMBEDDED_BITMAP,   FcTypeBool },
-    { FC_DECORATIVE,	FcTypeBool }, /* 40 */
+    { FC_DECORATIVE,	FcTypeBool },
+    { FC_ANY_METRICS,	FcTypeBool }, /* 41 */
 };
 
 #define NUM_OBJECT_TYPES    (sizeof _FcBaseObjectTypes / sizeof _FcBaseObjectTypes[0])
